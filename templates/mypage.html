<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지 - 빙글</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

    <div id="mypage-container">
        
        <section class="snap-section" id="mypage-header-section">
            <a href="/" class="back-btn">
                <span>←</span> 메인으로
            </a>
            
            <h2 style="margin-top: 40px; font-size: 1.8rem;">나의 정책 취향 🏹</h2>
            
            <div id="mypage-type-image-container" style="text-align: center; margin-top: 20px;"></div>

            <div class="chart-container" style="margin: 20px auto;">
                <canvas id="hexagon-chart"></canvas>
            </div>
            <p style="color:#888; font-size: 0.9rem; margin-top: 10px;">아래로 스크롤하여 목록 확인 ↓</p>
        </section>

        <section class="snap-section" id="mypage-list-section">
            
            <div class="list-header">
                <div class="header-left">
                    <input type="checkbox" id="select-all" class="card-checkbox" onclick="toggleAll(this)" title="전체 선택">
                    <h2>내가 찜한 정책들</h2>
                </div>
                
                <div class="header-buttons">
                    <button id="delete-selected-btn" class="delete-multi-btn" onclick="deleteSelectedItems()">선택 삭제</button>
                    <button id="restore-btn" class="restore-btn" onclick="restoreLastItem()" style="display: none;">↺ 취소</button>
                </div>
            </div>

            <div class="genre-filters"></div>
            
            <div id="mypage-results">
            </div>
        </section>

    </div>

    <div id="detail-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('detail-modal')">&times;</span>
            <h2 id="modal-title" style="margin-top:0; padding-right: 30px;">정책 제목</h2>
            <p id="modal-period" style="color: #81C784; font-weight:bold; margin-bottom: 20px;">기간</p>
            <div id="modal-summary" style="line-height:1.6; color:#ddd; min-height: 80px;">내용</div>
            
            <div class="modal-actions">
                <button id="modal-share-btn" class="action-btn icon" title="공유하기">🔗</button>
                <button id="modal-notify-btn" class="action-btn icon" title="알림받기">🔔</button>
                <a id="modal-link-btn" href="#" target="_blank" class="action-btn primary">원문 보러가기</a>
            </div>
        </div>
    </div>

    <script>
        window.allPolicies = {{ policies | tojson }};
    </script>
    <script src="/static/script.js"></script>
</body>
</html>